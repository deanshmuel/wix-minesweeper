(window["webpackJsonpmine-sweeper"]=window["webpackJsonpmine-sweeper"]||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(8),s=a.n(r),l=a(2),h=a(3),u=a(5),c=a(4),o=a(1),d=a(6),m=(a(14),a(15),i.a.memo((function(e){return i.a.createElement("div",{className:["square",e.clicked].join(" "),onClick:e.onClick},i.a.createElement("div",{className:"square-container"},e.isSuperman&&i.a.createElement("div",{className:"superman-cell"},e.supermanValue),i.a.createElement("div",{className:"square-cell"},e.value)))}))),f=i.a.memo((function(e){return i.a.createElement("div",{className:"board-row"},e.squares)})),g=function(e,t,a){var n=k(e,t);return n=C(n,a),n=j(n)},v=function(e){for(var t=[],a=0;a<e.length;a++){for(var n=[],i=0;i<e[0].length;i++)n.push(b(e,a,i));t.push(n)}return t},p=function(e){for(var t=[],a=0;a<e.length;a++){for(var n=[],i=0;i<e[0].length;i++)n.push("");t.push(n)}return t},b=function(e,t,a){return e[t][a].mine?"\ud83d\udca3":e[t][a].adjacentMines>0?e[t][a].adjacentMines:""},k=function(e,t){for(var a=[],n=0;n<e;n++){for(var i=[],r=0;r<t;r++)i.push({x:n,y:r,mine:!1,flagged:!1,clicked:!1,adjacentMines:0});a.push(i)}return a},y=function(e){return Math.floor(Math.random()*e)},C=function(e,t){for(var a,n,i=0,r=e.length,s=e[0].length;i<t;)a=y(s),e[n=y(r)][a].mine||(e[n][a].mine=!0,i++);return e},w=function(e,t,a,n){return e>=0&&e<a&&t>=0&&t<n},S=function(e,t,a,n){for(var i=[],r=e-1;r<e+2;r++)for(var s=t-1;s<t+2;s++)w(r,s,a,n)&&i.push({row:r,column:s});return i},E=function(e,t,a,n,i){return S(t,a,n,i).map((function(t){return e[t.row][t.column].mine?e[t.row][t.column].adjacentMines:e[t.row][t.column].adjacentMines++})),e},j=function(e){for(var t=e.length,a=e[0].length,n=0;n<t;n++)for(var i=0;i<a;i++)e[n][i].mine&&(e=E(e,n,i,t,a));return e},O=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).makeClass=function(){return"table-container"};var n=a.props,i=n.height,r=n.width,s=n.mines,h=g(i,r,s),d=v(h),m=p(h);return a.state={board:h,valuesBoard:d,displayBoard:m,flagCount:s,active:!0,isSuperman:!1},a.handleSupermanChange=a.handleSupermanChange.bind(Object(o.a)(a)),a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"handleSupermanChange",value:function(e){this.setState({isSuperman:e.target.checked})}},{key:"checkIfGameOver",value:function(){return!this.state.board.flat().some((function(e){return!e.flagged&&e.mine}))}},{key:"handleShiftClick",value:function(e,t,a,n){if(!e[a][n].clicked){var i=this.state.flagCount;e[a][n].flagged?(e[a][n].flagged=!1,i++,t[a][n]=""):i>0?(e[a][n].flagged=!0,i--,t[a][n]="\u2691"):alert("You run out of flags..."),this.setState({board:e,flagCount:i,displayBoard:t})}}},{key:"recursiveReveal",value:function(e,t,a){var n=this;if(!e[t][a].clicked&&!e[t][a].flagged)if(e[t][a].adjacentMines>0)e[t][a].clicked=!0;else{var i=e.length,r=e[0].length,s=S(t,a,i,r);e[t][a].clicked=!0,s.forEach((function(t){e=n.recursiveReveal(e,t.row,t.column)}))}return e}},{key:"handleRegularClick",value:function(e,t,a){this.state.board[t][a].mine&&!this.state.board[t][a].flagged?(alert("Game over -you lose"),this.setState({active:!1,displayBoard:this.state.valuesBoard})):(e=this.recursiveReveal(e,t,a),this.setState({board:e}))}},{key:"handleClick",value:function(e,t,a){if(this.state.active){var n=this.state.board.map((function(e){return e.slice()})),i=this.state.displayBoard.map((function(e){return e.slice()}));e.shiftKey?this.handleShiftClick(n,i,t,a):this.handleRegularClick(n,t,a),this.checkIfGameOver()&&(alert("you win!"),this.setState({active:!1,displayBoard:this.state.valuesBoard}))}}},{key:"renderSquare",value:function(e){var t=this;return i.a.createElement(m,{key:e.x+"_"+e.y,clicked:this.state.board[e.x][e.y].clicked?"clicked":"",isSuperman:this.state.isSuperman,supermanValue:this.state.valuesBoard[e.x][e.y],value:this.state.board[e.x][e.y].clicked?this.state.valuesBoard[e.x][e.y]:this.state.displayBoard[e.x][e.y],onClick:function(a){t.handleClick(a,e.x,e.y)}})}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("form",null,i.a.createElement("label",null,"Superman Mode:",i.a.createElement("input",{name:"superman",type:"checkbox",checked:this.state.isSuperman,onChange:this.handleSupermanChange}))),i.a.createElement("h2",null,"flags left: ",this.state.flagCount)),i.a.createElement("div",{className:this.makeClass(),style:{maxWidth:"100px"}},this.state.board.map((function(t,a){return i.a.createElement(f,{key:"row_"+a,squares:t.map((function(t){return e.renderSquare(t)}))})}))))}}]),t}(i.a.Component),x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={height:e.height,width:e.width,mines:e.mines,lastGame:new Date},a.handleHeightChange=a.handleHeightChange.bind(Object(o.a)(a)),a.handleWidthChange=a.handleWidthChange.bind(Object(o.a)(a)),a.handleMinesChange=a.handleMinesChange.bind(Object(o.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(o.a)(a)),a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"handleHeightChange",value:function(e){this.setState({height:e.target.value})}},{key:"handleWidthChange",value:function(e){this.setState({width:e.target.value})}},{key:"handleMinesChange",value:function(e){this.setState({mines:e.target.value})}},{key:"validInputs",value:function(){return this.state.height<1||this.state.height>300?(alert("Height should be between 1-300"),!1):this.state.width<1||this.state.width>300?(alert("Width should be between 1-300"),!1):!(this.state.mines<0||this.state.mines>this.state.height*this.state.hidth)||(alert("mines should be between 0 to number of cells"),!1)}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.validInputs()&&this.setState({lastGame:new Date})}},{key:"render",value:function(){return i.a.createElement("div",{className:"game"},i.a.createElement("h1",null,"Mine-Sweeper"),i.a.createElement("form",{className:"game-form",onSubmit:this.handleSubmit},i.a.createElement("label",null,"Height:",i.a.createElement("input",{type:"text",value:this.state.height,onChange:this.handleHeightChange})),i.a.createElement("label",null,"Width:",i.a.createElement("input",{type:"text",value:this.state.width,onChange:this.handleWidthChange})),i.a.createElement("label",null,"Mines:",i.a.createElement("input",{type:"text",value:this.state.mines,onChange:this.handleMinesChange})),i.a.createElement("input",{type:"submit",value:"New Game"})),i.a.createElement("div",{className:"game-board"},i.a.createElement(O,{key:""+this.state.lastGame,height:this.state.height,width:this.state.width,mines:this.state.mines})))}}]),t}(i.a.Component);s.a.render(i.a.createElement(x,{height:10,width:10,mines:20}),document.getElementById("root"))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.5d6f96cb.chunk.js.map